<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd">
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=yes, initial-scale=1, maximum-scale=5, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Hello World</title>

  </head>
  <body onload="init();" id="stage" class="theme">

        <script type="text/javascript" src="cordova-2.4.0rc1.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>




        <script type="text/javascript" charset="utf-8">

        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        // Cordova is ready
        //
        function onDeviceReady() {
         //   playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");   // do not auto load media file
        }













        // onSuccess Callback
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // onError Callback 
        //
        function onError(error) {
            alert('code: '    + error.code    + '\n' + 
                  'message: ' + error.message + '\n');
        }



        </script>











        <title>Media Example</title>


<font size=40>
See conclusions at the bottom of the page<br>



<input type=button value="create media url http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3" onclick="{document.my_media2 = new Media('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3', onSuccess, onError);}">
<input type=button value="create media 2 test same object     /android_asset/www/PianoScale.mp3" onclick="{document.my_media2 = new Media('/android_asset/www/Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media2.play()}">
<input type=button value="pause media url" onclick="{document.my_media2.pause()}">
<input type=button value="release media url" onclick="{document.my_media2.release()}">
<input type=button value="test bad stop" onclick="{document.my_media2.stop()}">
<input type=button value="test my release1" onclick="{document.my_media2 = null}">
<input type=button value="test my release2" onclick="{document.my_media2 = ''}">
<br><br><br><br>



<input type=button value="create media 3     /android_asset/www/PianoScale.mp3" onclick="{document.my_media3 = new Media('/android_asset/www/Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media3.play()}">
<input type=button value="pause media url" onclick="{document.my_media3.pause()}">
<input type=button value="release media url" onclick="{document.my_media3.release()}">
<br><br><br><br>



<input type=button value="create media 4 Download/c5.mp3" onclick="{document.my_media4 = new Media('Download/Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media path" onclick="{document.my_media4.play()}">
<input type=button value="pause media path" onclick="{document.my_media4.pause()}">
<input type=button value="release media path" onclick="{document.my_media4.release()}">
<br><br><br><br>




<input type=button value="create media 5 path Download/sDefn1.wav" onclick="{document.my_media5 = new Media('Download/Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media sdcard" onclick="{document.my_media5.play()}">
<input type=button value="pause media sdcard" onclick="{document.my_media5.pause()}">
<input type=button value="release media sdcard" onclick="{document.my_media5.release()}">
<br><br><br><br>



<input type=button value="create media 6 /sdcard/Download/sDefn1.wav" onclick="{document.my_media6 = new Media('/sdcard/Download/Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media6.play()}">
<input type=button value="pause media url" onclick="{document.my_media6.pause()}">
<input type=button value="release media url" onclick="{document.my_media6.release()}">
<br><br><br><br>


<input type=text id="myText1" value="http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3">
<input type=button value="create media url 7 same as top" onclick="{document.my_media7 = new Media(document.all.myText1.value, onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media7.play()}">
<input type=button value="pause media url" onclick="{document.my_media7.pause()}">
<input type=button value="release media url" onclick="{document.my_media7.release()}">
<br><br><br><br>



<input type=button value="create media 8    media/01 Call Me Maybe.m4a " onclick="{document.my_media8 = new Media('Kalimba.mp3', onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media8.play()}">
<input type=button value="pause media url" onclick="{document.my_media8.pause()}">
<input type=button value="release media url" onclick="{document.my_media8.release()}">
<br><br><br><br>


<input type=button value="create media 9    http://142.33.222.23/ellis/phpmidi/soundmanager/pianoMp3/5Fsharp.mp3 " onclick="{document.my_media9 = new Media('http://142.33.222.23/ellis/phpmidi/soundmanager/pianoMp3/5Fsharp.mp3', onSuccess, onError);}">
<input type=button value="play media url" onclick="{document.my_media9.play()}">
<input type=button value="pause media url" onclick="{document.my_media9.pause()}">
<input type=button value="release media url" onclick="{document.my_media9.release()}">
<br><br><br><br>



<input type=button value="create recording myRecording.mp3" onclick="{document.my_media10 = new Media('myRec.mp3', onSuccess, onError);}">
<input type=button value="start recording" onclick="{document.my_media10.startRecord();}">
<input type=button value="stop recording" onclick="{document.my_media10.stopRecord()}">
<input type=button value="play recording" onclick="{document.my_media10.play()}">
<input type=button value="pause recording" onclick="{document.my_media10.pause()}">
<input type=button value="release recording" onclick="{document.my_media10.release()}">
<br><br><br><br>


<input type=button value="create recording /sdcard/Download/myRecording.mp3" onclick="{document.my_media11 = new Media('/sdcard/Download/myRec.mp3', onSuccess, onError);}">
<input type=button value="start recording" onclick="{document.my_media11.startRecord();}">
<input type=button value="stop recording" onclick="{document.my_media11.stopRecord()}">
<input type=button value="play recording" onclick="{document.my_media11.play()}">
<input type=button value="pause recording" onclick="{document.my_media11.pause()}">
<input type=button value="release recording" onclick="{document.my_media11.release()}">
<br><br><br><br>

<h2 >Phonegap audio has a few quirks on the android system. (At least on a samsung galaxy s3 cell phone and phonegap 2.0.0)<br><br>

The .stop() function does not work at all and calls an error<br><br>

The .release() function seems to do what the stop function should do, but it does not delete the media object. This is proved because
 the song can be played again even after release by calling .play() again.<br><br>
on Android systems it seems that      .wav      .m4a (iTunes format)  and .mp3 all play 

You can load a .mp3 from the web, from the assets/www folder, from the phones media or Download folders. 
(Other folders may have permissions issues. Have not yet tested) <br>

All can be polyphoninc (play at the same time). <br><br>

All do not seem to have the 5 second limit that I kept reading about<br><br>

Button activation time seems a bit slow, might be able to be improved using javascript.<br><br>

Some .mp3's seem to have a bit of a shudder at the start of the sound the first time. Seems fine after that. <br><br>

Recordings must be on the root or Download folder of the sdcard. Note: both relative and absolute calling work<br>
example Both of these work<br>
Download/myrecord.mp3 <br>
/sdcard/Download/myRecord.mp3<br>

Generally sound seems to work on Android, but the examples on the phonegap documentation page do not work well!
<hr>

Using phonegap 2.4rc I have a few different issues.<br><br>
The record feature seems to work but .release must be pushed before .play works.<br><br>
/android-asset/www/ does not work. All other features work same as phonegap version 2.0.0<br><br>
unfortunately /android-asset/www/ is the most important so I think we have an issue.<br><br>



</h2>


A practice link 
<input type=button value="Go to Google" onclick="document.location = 'http://www.google.ca'">




</font>



















    </body>
</html>
